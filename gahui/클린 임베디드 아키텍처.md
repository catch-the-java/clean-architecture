## 🍏 클린 임베디드 아키텍처
소프트웨어는 닳지 않지만, 펌웨어와 하드웨어에 대한 의존성을 관리하지 않으면 안으로부터 파괴될 수 있다.

현실 : 하드웨어는 계속해서 발전하고, 이에 따라 임베디드 코드를 구조화할 수 있어야 한다. 

 

"펌웨어를 수없이 양산하는 일을 멈추고, 코드에게 유효 수명을 길게 늘릴 수 있는 기회를 주어라"
 
 
 </br>
 

### 🍊 왜 잠재적인 임베디드 소프트웨어가 펌웨어로 변할까? 
동작에 많은 주의를 기울이고, 유지보수되도록 구조화하는 데는 신경쓰지 않기 때문이다. 

 
</br>
 

### 🍊 클린 임베디드 아키텍처란?
1) 테스트하기 쉬운 아키텍처
소프트웨어와 펌웨어가 서로 섞이는 일(안티 패턴)은 변화에 저항한다.
변경하기 어려울 뿐 아니라 위험을 수반하여 때로는 의도치 않은 결과를 불러온다.
하드웨어는 세부사항이다.
 

2) HAL(하드웨어 추상화 계층) 사용자에게 하드웨어 세부사항을 드러내지 말라. 
HAL을 제대로 만들었다면, 타깃에 상관없이 테스트할 수 있다.
프로세스는 세부사항이다.
운영체제는 세부사항이다.
 

3) 인터페이스를 통하고 대체 가능성을 높이는 방향으로 프로그래밍하라
HAL, OSAL, 주요 계층 내부에 책에서 설명한 원칙들을 적용할 수 있, 아니 해야한다.
관심사를 분리시키고 인터페이스를 활용하여 대체 가능성을 높이는 방향으로 프로그래밍하자.
 

4) DRY 원칙 : 조건부 컴파일 지시자를 반복하지 말라.
코드를 반복하는 일은 반복하지 말라
하드웨어 추상화 계층을 사용하여 하드웨어 유형을 숨기자.
만약 이 HAL이 조건부 컴파일 대신 사용할 수 있는 일련의 인터페이스를 제공한다면, 우리는 링커 또는 어떤 형태의 실시간 바인딩을 사용해서 소프트웨어와 하드웨어를 연결할 수 있다.


출처: https://gh402.tistory.com/61 [GHY 's TechBlog]
