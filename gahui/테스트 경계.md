## 🍎 테스트 경계
테스트는 시스템의 일부이고, 아키텍처에도 관여한다.

 


### 🍊 테스트의 특성
1) 테스트는 의존성 규칙을 따른다.

- 테스트는 세부적, 구체적인 것으로 의존성은 항상 테스트 대상이 되는 코드를 향한다.

- 실제로 테스트는 아키텍처에서 가장 바깥쪽 원으로 생각할 수 있다.

- 시스템 내부의 어떤 것도 테스트에는 의존하지 않으며, 테스트는 시스템의 컴포넌트를 향해, 항상 원의 안쪽으로 의존한다.

 
 </br>
 

2) 테스트는 독립적으로 배포 가능하다.

- 대다수의 경우 테스트는 테스트 시스템에만 배포하며, 상용 시스템에는 배포하지 않는다.


</br>
 

3) 테스트는 시스템 컴포넌트 중 가장 고립되어있다. 

- 테스트가 시스템 운영에 꼭 필요하지 않다.

</br>

 

### **하지만, 그렇다고 해서 아키텍처 설계 시, 테스트를 설계 범위 밖에 있다고 여기면 안된다. **
 
### 🍊 이유
> 시스템에 강하게 결합된 테스트라면 시스템이 변경될 때 함께 변경되어야 한다.

- 시스템의 어떤 한 부분을 살짝 건드렸을 때, 약 1000개의 테스트를 수정해야 한다면?

- 변동 가능성이 높은 것들에 의존하지 말아야 한다.

 

### 🍊 테스트 API
> 결합을 없애기 위해 테스트용 API 를 만들면 된다. 

- 테스트 API의 역할은 애플리케이션의 구조를 테스트로부터 숨기는 데 있다.

- 이 것을 만들면, 상용 코드를 리팩토링하거나 진화시키더라도 테스트에는 전혀 영향을 주지 않는다.



출처: https://gh402.tistory.com/61 [GHY 's TechBlog]
